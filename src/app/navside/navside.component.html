<div>
    <div class="divBurger" (click)="onClickMenu()" #menu>
        <span class="burger"></span>
        <span class="burger"></span>
        <span class="burger"></span>
    </div>
    <div class="sidenav p-3 slide" #sidenav>
        <button class="close-menu" (click)="onCloseMenu()" #close>X</button>
        <!-- LOGO -->
        <div class="sidebar-header text-center my-3">
            <a class="nav-link" routerLink="" (click)="onButtonClick('')">
                <img src="assets/Vector.png" alt="" width="50">
                <h5 class="text-center mt-3 text-light">Correspondances of Voltaire</h5>
            </a>
        </div>

        <!-- divider -->
        <div class="my-4" style="border-top: #818181 1px solid;"></div>

        <!--<div>
            <input type="file" accept=".json" (change)="uploadData($event)">
        </div>-->
        <div class="mb-2" *ngIf="!onMetadata">
            <label for="metadata" class="text-light">Add metadata</label>
            <input #inputChamp type="text" id="meta" [(ngModel)]="champ"
                style="width:175px; margin-right:5px; padding:5px; border-radius:3px;">
            <button class="btn btn-md success" (click)="addChamps()">+</button>
        </div>
        <div *ngFor="let item of champs">
            <div class="d-flex justify-content-between align-items-center primary mb-1 p-1 border rounded">
                <span class="text-light" style="margin-right:5px">{{item}}</span>
                <button class="btn btn-sm danger mr-1" (click)="removeChamp(item)">-</button>
            </div>
        </div>
        <button *ngIf="champs.length > 0" (click)="confirmMetadata()" class="w-100 btn success">Confirm metadata
        </button>
        <!-- Six buttons to select a criterion -->
        <div *ngIf="metadata.length > 0">
            <label for="selectChart" class="text-light">Click to select a criterion</label>

            <button *ngFor="let meta of metadata" class="btn secondary m-1 "
                style="width: 100px; height:80px; font-size:13px;" [ngClass]="{'danger':params === meta}"
                (click)="onButtonClick(meta)">
                {{meta | titlecase}}
            </button>
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                (click)="onButtonClick('')">
                Clear
            </button>
            <!--<div>
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                [ngClass]="{'danger':params === 'place'}" (click)="onButtonClick('place')">
                Place
            </button>
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                [ngClass]="{'danger':params === 'date'}" (click)="onButtonClick('date')">
                Date
            </button>
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                [ngClass]="{'danger':params === 'sender'}" (click)="onButtonClick('sender')">
                Sender
            </button>
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                [ngClass]="{'danger':params === 'recipient'}" (click)="onButtonClick('recipient')">
                Recipient
            </button> #}
           
            <button class="btn secondary m-1 " style="width: 100px; height:80px; font-size:13px;"
                (click)="onButtonClick('')">
                Clear
            </button>-->
            <!-- divider -->
            <div class="my-4" style="border-top: #818181 1px solid;"></div>
            <label class="text-light">Click to select chart type</label>
            <!-- Section chart type -->
            <div class="d-flex justify-content-around mb-2">
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'line'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params"
                    (click)="selectType('line')">
                    <img src="assets/line.png" width="30" alt=""><br>
                    <span>Line</span>
                </button>
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'bar'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params" (click)="selectType('bar')">
                    <img src="assets/bar.png" width="30" alt=""><br>
                    <span>Bar</span>
                </button>
            </div>
            <div class="d-flex justify-content-around mb-2">
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'area'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params"
                    (click)="selectType('area')">
                    <img src="assets/area.png" width="30" alt=""><br>
                    <span>Area</span>
                </button>
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'pie'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params" (click)="selectType('pie')">
                    <img src="assets/pie.png" width="30" alt=""><br>
                    <span>Pie</span>
                </button>
            </div>
            <div class="d-flex justify-content-around mb-2">
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'polar'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params"
                    (click)="selectType('polar')">
                    <img src="assets/polar.png" width="30" alt=""><br>
                    <span>RoseType</span>
                </button>
                <button class="secondary btn text-center" [ngClass]="{'warning':typeChart === 'funnel'}"
                    style="width: 100px; height:80px; font-size:13px;" [disabled]="!params"
                    (click)="selectType('funnel')">
                    <img src="assets/funnel.png" width="30" alt=""><br>
                    <span>Funnel</span>
                </button>
            </div>
        </div>




        <!--<div *ngIf="params">
        <label for="selectChart" class="text-light">Select chart type</label>
        <select name="" id="selectChart" class="w-100 rounded p-2" [(ngModel)]="typeChart">
            <option value="Line">Line</option>
            <option value="Bar">Bar</option>
            <option value="Area">Area</option>
            <option value="Pie">Pie</option>
            <option value="Polar bar">Polar bar</option>
            <option value="Funnel">Funnel</option>
        </select>
    </div>-->
    </div>

    <div class="content p-5" #content>
        <div *ngIf="!typeChart" class="px-5">
            <h2 class="text-center"><strong>Visualization of Data</strong></h2><br>
            <h4><strong>Project</strong></h4>
            <p>This project allows you to statistically visualize the data in json file. The visualization
                is based on four pillars:</p>

            <ul>
                <li><strong>Qualitative data:</strong> that correspond to categories we must create according to
                    properties in json file, for example:
                    <ul>
                        <li>date</li>
                        <li>place</li>
                        <li>ahthor</li>
                        <li>etc..</li>
                    </ul>
                </li>
                <li><strong>Quantitative data:</strong> that corresponds to the number of items by each category
                    created above, for example:
                    <ul>
                        <li>Number of books per author</li>
                        <li>Number of books by place</li>
                        <li>Number of books by date</li>
                    </ul>
                </li>
                <li><strong>Chrononical pillar:</strong> to filter data between two dates</li>
            </ul>

            <h4><strong>Type of chart</strong></h4>
            <p>We have chosen six types of visualization that are the most readable and understandable:</p>
            <ul>
                <li>Line</li>
                <li>Bar</li>
                <li>Area</li>
                <li>Pie</li>
                <li>Polar bar</li>
                <li>Funnel</li>
            </ul>
            <h4><strong>Usage</strong></h4>
            <p>
                We choose a criterion, then we select the type of graph. Once the graph was displayed, a years slider
                appeared to choose a year interval. in addition, a multiple drop-down list containing data according to
                the chosen criterion is activated to add another filter.
            </p>

            <p class="text-danger">Note: It's important to have a property date in format yyyy or yyyy-mm-dd or yyyy/mm/dd</p>

        </div>
        <div class="p-3">
            <div *ngIf="typeChart">

                <!--<h3 class="text-center">{{title}}</h3>-->

                <!--  Slider section -->
                <div style="margin-bottom:10px">
                    <h6 class="mb-2">Select a range of years</h6>
                    <ngx-slider [(ngModel)]="sliderValues" [(value)]="sliderValue" [(highValue)]="highValue"
                        [options]="sliderOptions" (mouseup)="onChangeDate()">
                    </ngx-slider>
                </div>

                <!--  Graph section -->
                <div class="">
                    <div class="col" *ngIf="typeChart === 'pie'">

                        <div echarts [options]="optionPie" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                    <div class="col" *ngIf="typeChart === 'polar'">
                        <div echarts [options]="optionPolarRadialBar" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                    <div class="col" *ngIf="typeChart === 'bar'">
                        <div echarts [options]="optionBar" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                    <div class="col" *ngIf="typeChart === 'area'">
                        <div echarts [options]="optionArea" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                    <div class="col" *ngIf="typeChart === 'line'">
                        <div echarts [options]="optionLine" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                    <div class="col" *ngIf="typeChart === 'funnel'">
                        <div echarts [options]="optionFunnel" class="border p-1 m-1 bg-light shadow"
                            style="height: 600px; width:auto;"></div>
                    </div>
                </div>
            </div>

            <div class="" [ngClass]="{'invisible': !typeChart}" style="margin-top: 20px; ">
                {{titleFilter}}
                <select class="js-example-basic-single mx-3" name="state" multiple>
                    <option *ngFor="let item of dataObject" value="{{item.name}}">{{item.name}}</option>
                </select>
                <button class="primary btn mt-3" (click)="executeFilter()">Executer</button>
            </div>
        </div>
    </div>
</div>